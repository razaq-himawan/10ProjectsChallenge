<% layout('admin/layouts/admin') %>

<div class="d-flex flex-column p-3">
  <section class="d-flex flex-column gap-4 container-fluid">
    <div class="mb-4">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <h1 class="m-0">Stocks</h1>
          <p class="text-body-secondary">Manage stocks for your store</p>
        </div>
        <div>
          <a
            href="stocks/create"
            class="btn btn-dark"
          >
            + Add New
          </a>
        </div>
      </div>

      <hr class="mt-0" />
    </div>
  </section>

  <section class="d-flex flex-column gap-4 container-fluid">
    <div class="border">
      <table class="table m-0">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Amount</th>
            <th scope="col">Price</th>
            <th scope="col">Type</th>
            <th scope="col">Image</th>
            <th scope="col">Description</th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          <% for (const stock of stocks) { %>
          <tr class="align-middle">
            <td><%= stock.name %></td>
            <td><%= stock.amount %></td>
            <td><%= stock.price %></td>
            <td><%= stock.type %></td>
            <td><%= stock.imgPath %></td>
            <td
              class="text-truncate"
              style="max-width: 150px"
              ><%= stock.desc %></td
            >
            <td class="w-25 text-center">
              <a
                href="/dashboard/stocks/<%= stock._id %>"
                class="btn btn-warning me-2"
                >Edit</a
              >
              <form
                class="d-inline"
                action="/dashboard/stocks/<%= stock._id %>?_method=DELETE"
                method="POST"
              >
                <button class="btn btn-danger">Delete</button>
              </form>
            </td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </div>
  </section>
</div>
